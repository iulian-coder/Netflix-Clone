{"ast":null,"code":"var _jsxFileName = \"/home/iulian/IdeaProjects/NetflixProject/netflix-front/netflix-clone/src/component/MovieDetails.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../api/axios\";\nimport request from \"../api/request\";\nimport { useForm } from \"react-hook-form\";\n\nfunction MovieDetails() {\n  const {\n    id\n  } = useParams();\n  const [movie, setMovie] = useState([]);\n  const [recommendation, setRecommendation] = useState([]);\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  const location = location();\n  useEffect(() => {\n    async function fetchData() {\n      const requestMovie = await axios.get(request.fetchMovies + `/${id}`);\n      setMovie(requestMovie.data);\n      const requestRecommendation = await axios.get(request.fetchRecommendation + `/${id}`);\n      setRecommendation(requestRecommendation.data);\n      return requestRecommendation;\n    }\n\n    fetchData();\n  }, [id]);\n\n  const onSubmit = data => {\n    const myObj = {\n      name: data.comment,\n      rating: data.rating,\n      videoId: `${id}`\n    };\n    addRecommendation(myObj);\n    location;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Movie\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"id \", movie.id), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"name \", movie.name), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"url \", movie.url)), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Recommendation\"), recommendation.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Comment \", item.comment), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Rating \", item.rating)))), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Add new recommendation\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"comment\",\n    ref: register({\n      required: true,\n      minLength: 3\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"rating\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"5\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default MovieDetails;\n\nasync function addRecommendation(params) {\n  await axios.post(request.postRecommendation, params);\n}","map":{"version":3,"sources":["/home/iulian/IdeaProjects/NetflixProject/netflix-front/netflix-clone/src/component/MovieDetails.js"],"names":["React","useState","useEffect","useParams","axios","request","useForm","MovieDetails","id","movie","setMovie","recommendation","setRecommendation","register","handleSubmit","location","fetchData","requestMovie","get","fetchMovies","data","requestRecommendation","fetchRecommendation","onSubmit","myObj","name","comment","rating","videoId","addRecommendation","url","map","item","required","minLength","params","post","postRecommendation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../api/axios\";\nimport request from \"../api/request\";\nimport { useForm } from \"react-hook-form\";\n\nfunction MovieDetails() {\n  const { id } = useParams();\n  const [movie, setMovie] = useState([]);\n  const [recommendation, setRecommendation] = useState([]);\n  const { register, handleSubmit } = useForm();\n  const location = location();\n\n  useEffect(() => {\n    async function fetchData() {\n      const requestMovie = await axios.get(request.fetchMovies + `/${id}`);\n      setMovie(requestMovie.data);\n      const requestRecommendation = await axios.get(\n        request.fetchRecommendation + `/${id}`\n      );\n\n      setRecommendation(requestRecommendation.data);\n      return requestRecommendation;\n    }\n\n    fetchData();\n  }, [id]);\n\n  const onSubmit = (data) => {\n    const myObj = {\n      name: data.comment,\n      rating: data.rating,\n      videoId: `${id}`,\n    };\n    addRecommendation(myObj);\n    location\n  };\n\n  return (\n    <div>\n      <h1>Movie</h1>\n      <ul>\n        <li>id {movie.id}</li>\n        <li>name {movie.name}</li>\n        <li>url {movie.url}</li>\n      </ul>\n\n      <h2>Recommendation</h2>\n\n      {recommendation.map((item) => (\n        <div key={item.id}>\n          <ul>\n            <li className=\"\">Comment {item.comment}</li>\n            <li className=\"\">Rating {item.rating}</li>\n          </ul>\n        </div>\n      ))}\n      <h2>Add new recommendation</h2>\n      <div className=\"form\">\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <input\n            name=\"comment\"\n            ref={register({ required: true, minLength: 3 })}\n          />\n          <select name=\"rating\" ref={register}>\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n            <option value=\"4\">4</option>\n            <option value=\"5\">5</option>\n          </select>\n          <input type=\"submit\" />\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default MovieDetails;\n\nasync function addRecommendation(params) {\n  await axios.post(request.postRecommendation, params);\n}\n"]},"metadata":{},"sourceType":"module"}